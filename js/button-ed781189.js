import{P as t,L as n,i as e,u as a,d as o,b as l,a as i,_ as u,E as r}from"./default-37a9e99b.js";import{W as c}from"./wave-375d7f7d.js";import{d as s,a as d,z as f,n as v,b as p,e as g,f as y,H as m,g as b,L as h,K as x,T as B}from"./index-44b8c168.js";const C=function(){return{prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:function(){return!1}},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:t.any,href:String,target:String,title:String,onClick:{type:Function},onMousedown:{type:Function}}};var S=function(t){t&&(t.style.width="0px",t.style.opacity="0",t.style.transform="scale(0)")},T=function(t){v((function(){t&&(t.style.width="".concat(t.scrollWidth,"px"),t.style.opacity="1",t.style.transform="scale(1)")}))},k=function(t){t&&t.style&&(t.style.width=null,t.style.opacity=null,t.style.transform=null)};const w=s({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup:function(t){return function(){var e=t.existIcon,a=t.prefixCls,o=t.loading;if(e)return d("span",{class:"".concat(a,"-loading-icon")},[d(n,null,null)]);var l=!!o;return d(f,{name:"".concat(a,"-loading-icon-motion"),onBeforeEnter:S,onEnter:T,onAfterEnter:k,onBeforeLeave:T,onLeave:function(t){setTimeout((function(){S(t)}))},onAfterLeave:k},{default:function(){return[l?d("span",{class:"".concat(a,"-loading-icon")},[d(n,null,null)]):null]}})}}});var j=/^[\u4e00-\u9fa5]{2}$/,E=j.test.bind(j);function I(t){return"text"===t||"link"===t}const L=s({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:e(C(),{type:"default"}),slots:["icon"],setup:function(t,n){var e=n.slots,s=n.attrs,f=n.emit,v=a("btn",t),C=v.prefixCls,S=v.autoInsertSpaceInButton,T=v.direction,k=v.size,j=p(null),L=p(void 0),A=!1,M=p(!1),O=p(!1),_=g((function(){return!1!==S.value})),z=g((function(){return"object"===u(t.loading)&&t.loading.delay?t.loading.delay||!0:!!t.loading}));y(z,(function(t){clearTimeout(L.value),"number"==typeof z.value?L.value=setTimeout((function(){M.value=t}),z.value):M.value=t}),{immediate:!0});var D=g((function(){var n,e=t.type,a=t.shape,o=void 0===a?"default":a,l=t.ghost,u=t.block,r=t.danger,c=C.value,s=k.value,d=s&&{large:"lg",small:"sm",middle:void 0}[s]||"";return i(n={},"".concat(c),!0),i(n,"".concat(c,"-").concat(e),e),i(n,"".concat(c,"-").concat(o),"default"!==o&&o),i(n,"".concat(c,"-").concat(d),d),i(n,"".concat(c,"-loading"),M.value),i(n,"".concat(c,"-background-ghost"),l&&!I(e)),i(n,"".concat(c,"-two-chinese-chars"),O.value&&_.value),i(n,"".concat(c,"-block"),u),i(n,"".concat(c,"-dangerous"),!!r),i(n,"".concat(c,"-rtl"),"rtl"===T.value),n})),F=function(){var t=j.value;if(t&&!1!==S.value){var n=t.textContent;A&&E(n)?O.value||(O.value=!0):O.value&&(O.value=!1)}},N=function(n){M.value||t.disabled?n.preventDefault():f("click",n)};return m((function(){r(!(t.ghost&&I(t.type)),"Button","`link` or `text` button can't be a `ghost` button.")})),b(F),h(F),x((function(){L.value&&clearTimeout(L.value)})),function(){var n,a,u=t.icon,r=void 0===u?null===(n=e.icon)||void 0===n?void 0:n.call(e):u,f=o(null===(a=e.default)||void 0===a?void 0:a.call(e));A=1===f.length&&!r&&!I(t.type);var v=t.type,p=t.htmlType,g=t.disabled,y=t.href,m=t.title,b=t.target,h=t.onMousedown,x=M.value?"loading":r,S=l(l({},s),{},{title:m,disabled:g,class:[D.value,s.class,i({},"".concat(C.value,"-icon-only"),0===f.length&&!!x)],onClick:N,onMousedown:h});g||delete S.disabled;var T=r&&!M.value?r:d(w,{existIcon:!!r,prefixCls:C.value,loading:!!M.value},null),k=f.map((function(t){return function(t,n){var e=n?" ":"";if(t.type===B){var a=t.children.trim();return E(a)&&(a=a.split("").join(e)),d("span",null,[a])}return t}(t,A&&_.value)}));if(void 0!==y)return d("a",l(l({},S),{},{href:y,target:b,ref:j}),[T,k]);var L=d("button",l(l({},S),{},{ref:j,type:p}),[T,k]);return I(v)?L:d(c,{ref:"wave",disabled:!!M.value},{default:function(){return[L]}})}}});export{L as B,C as b};
