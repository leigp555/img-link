import{H as e,P as n,b as t,h as a,a as o,f as r,t as l,I as i,u,o as d,_ as c}from"./default-b027f3eb.js";import{o as s,c as f,u as v}from"./FormItemContext-cce2bb0e.js";import{d as p,b as y,a as m,f as g,g as x,L as b,J as w,F as h,n as B,Q as C}from"./index-9e567f9b.js";function A(e){e.target.composing=!0}function S(e){e.target.composing&&(e.target.composing=!1,function(e,n){var t=document.createEvent("HTMLEvents");t.initEvent(n,!0,!0),e.dispatchEvent(t)}(e.target,"input"))}function F(e,n,t,a){e.addEventListener(n,t,a)}const z={created:function(e,n){n.modifiers&&n.modifiers.lazy||(F(e,"compositionstart",A),F(e,"compositionend",S),F(e,"change",S))}};var E,j=function(n){if(e()&&window.document.documentElement){var t=Array.isArray(n)?n:[n],a=window.document.documentElement;return t.some((function(e){return e in a.style}))}return!1},O=function(e,n){if(!j(e))return!1;var t=document.createElement("div"),a=t.style[e];return t.style[e]=n,t.style[e]!==a};function T(e,n){return Array.isArray(e)||void 0===n?j(e):O(e,n)}var M=function(){if(!e()||!window.document.documentElement)return!1;if(void 0!==E)return E;var n=document.createElement("div");return n.style.display="flex",n.style.flexDirection="column",n.style.rowGap="1px",n.appendChild(document.createElement("div")),n.appendChild(document.createElement("div")),document.body.appendChild(n),E=1===n.scrollHeight,document.body.removeChild(n),E},R=function(){return{id:String,prefixCls:String,inputPrefixCls:String,defaultValue:n.oneOfType([n.string,n.number]),value:{type:[String,Number,Symbol],default:void 0},placeholder:{type:[String,Number]},autocomplete:String,type:{type:String,default:"text"},name:String,size:{type:String},disabled:{type:Boolean,default:void 0},readonly:{type:Boolean,default:void 0},addonBefore:n.any,addonAfter:n.any,prefix:n.any,suffix:n.any,autofocus:{type:Boolean,default:void 0},allowClear:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,valueModifiers:Object,hidden:Boolean}};const I=R;var P=function(){return t(t({},s(R(),["prefix","addonBefore","addonAfter","suffix"])),{},{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object})};function k(e,n,t,r,l){var i;return a(e,(o(i={},"".concat(e,"-sm"),"small"===t),o(i,"".concat(e,"-lg"),"large"===t),o(i,"".concat(e,"-disabled"),r),o(i,"".concat(e,"-rtl"),"rtl"===l),o(i,"".concat(e,"-borderless"),!n),i))}var N=function(e){return null!=e&&(!Array.isArray(e)||r(e).length)};function V(e){return N(e.addonBefore)||N(e.addonAfter)}var D=["text","input"];const L=p({compatConfig:{MODE:3},name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:n.oneOf(l("text","input")),value:n.any,defaultValue:n.any,allowClear:{type:Boolean,default:void 0},element:n.any,handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:n.any,prefix:n.any,addonBefore:n.any,addonAfter:n.any,readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean},setup:function(e,n){var t=n.slots,r=n.attrs,l=y(),u=function(n){var t;if(null!==(t=l.value)&&void 0!==t&&t.contains(n.target)){var a=e.triggerFocus;null==a||a()}},d=function(n){var r,l=e.allowClear,u=e.value,d=e.disabled,c=e.readonly,s=e.handleReset,f=e.suffix,v=void 0===f?t.suffix:f;if(!l)return null;var p=!d&&!c&&u,y="".concat(n,"-clear-icon");return m(i,{onClick:s,onMousedown:function(e){return e.preventDefault()},class:a((r={},o(r,"".concat(y,"-hidden"),!p),o(r,"".concat(y,"-has-suffix"),!!v),r),y),role:"button"},null)},c=function(n,i){var c,s,v,p,y=e.focused,g=e.value,x=e.prefix,b=void 0===x?null===(c=t.prefix)||void 0===c?void 0:c.call(t):x,w=e.size,h=e.suffix,B=void 0===h?null===(s=t.suffix)||void 0===s?void 0:s.call(t):h,C=e.disabled,A=e.allowClear,S=e.direction,F=e.readonly,z=e.bordered,E=e.hidden,j=e.addonAfter,O=void 0===j?t.addonAfter:j,T=e.addonBefore,M=void 0===T?t.addonBefore:T,R=function(n){var a,o=e.suffix,r=void 0===o?null===(a=t.suffix)||void 0===a?void 0:a.call(t):o,l=e.allowClear;return r||l?m("span",{class:"".concat(n,"-suffix")},[d(n),r]):null}(n);if(!(N((p={prefix:b,suffix:B,allowClear:A}).prefix)||N(p.suffix)||N(p.allowClear)))return f(i,{value:g});var I=b?m("span",{class:"".concat(n,"-prefix")},[b]):null,P=a("".concat(n,"-affix-wrapper"),(o(v={},"".concat(n,"-affix-wrapper-focused"),y),o(v,"".concat(n,"-affix-wrapper-disabled"),C),o(v,"".concat(n,"-affix-wrapper-sm"),"small"===w),o(v,"".concat(n,"-affix-wrapper-lg"),"large"===w),o(v,"".concat(n,"-affix-wrapper-input-with-clear-btn"),B&&A&&g),o(v,"".concat(n,"-affix-wrapper-rtl"),"rtl"===S),o(v,"".concat(n,"-affix-wrapper-readonly"),F),o(v,"".concat(n,"-affix-wrapper-borderless"),!z),o(v,"".concat(r.class),!V({addonAfter:O,addonBefore:M})&&r.class),v));return m("span",{ref:l,class:P,style:r.style,onMouseup:u,hidden:E},[I,f(i,{style:null,value:g,class:k(n,z,w,C)}),R])};return function(){var n,l=e.prefixCls,i=e.inputType,u=e.element,s=void 0===u?null===(n=t.element)||void 0===n?void 0:n.call(t):u;return i===D[0]?function(n,l){var i,u=e.value,c=e.allowClear,s=e.direction,v=e.bordered,p=e.hidden,y=e.addonAfter,g=void 0===y?t.addonAfter:y,x=e.addonBefore,b=void 0===x?t.addonBefore:x;if(!c)return f(l,{value:u});var w=a("".concat(n,"-affix-wrapper"),"".concat(n,"-affix-wrapper-textarea-with-clear-btn"),(o(i={},"".concat(n,"-affix-wrapper-rtl"),"rtl"===s),o(i,"".concat(n,"-affix-wrapper-borderless"),!v),o(i,"".concat(r.class),!V({addonAfter:g,addonBefore:b})&&r.class),i));return m("span",{class:w,style:r.style,hidden:p},[f(l,{style:null,value:u}),d(n)])}(l,s):function(n,l){var i,u,d,c=e.addonBefore,s=void 0===c?null===(i=t.addonBefore)||void 0===i?void 0:i.call(t):c,v=e.addonAfter,p=void 0===v?null===(u=t.addonAfter)||void 0===u?void 0:u.call(t):v,y=e.size,g=e.direction,x=e.hidden;if(!V({addonBefore:s,addonAfter:p}))return l;var b="".concat(n,"-group"),w="".concat(b,"-addon"),h=s?m("span",{class:w},[s]):null,B=p?m("span",{class:w},[p]):null,C=a("".concat(n,"-wrapper"),b,o({},"".concat(b,"-rtl"),"rtl"===g)),A=a("".concat(n,"-group-wrapper"),(o(d={},"".concat(n,"-group-wrapper-sm"),"small"===y),o(d,"".concat(n,"-group-wrapper-lg"),"large"===y),o(d,"".concat(n,"-group-wrapper-rtl"),"rtl"===g),d),r.class);return m("span",{class:A,style:r.style,hidden:x},[m("span",{class:C},[h,f(l,{style:null}),B])])}(l,c(l,s))}}});function H(e){return null==e?"":String(e)}function K(e,n,t,a){if(t){var o=n;if("click"===n.type){Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0});var r=e.cloneNode(!0);return o.target=r,o.currentTarget=r,r.value="",void t(o)}if(void 0!==a)return Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0}),o.target=e,o.currentTarget=e,e.value=a,void t(o);t(o)}}function G(e,n){if(e){e.focus(n);var t=(n||{}).cursor;if(t){var a=e.value.length;switch(t){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(a,a);break;default:e.setSelectionRange(0,a)}}}}const J=p({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:I(),setup:function(e,n){var r,l=n.slots,i=n.attrs,f=n.expose,p=n.emit,A=y(),S=y(),F=v(),E=u("input",e),j=E.direction,O=E.prefixCls,T=E.size,M=E.autocomplete,R=y(void 0===e.value?e.defaultValue:e.value),I=y(!1);g((function(){return e.value}),(function(){R.value=e.value})),g((function(){return e.disabled}),(function(){void 0!==e.value&&(R.value=e.value),e.disabled&&(I.value=!1)}));var P=function(){r=setTimeout((function(){var e;"password"===(null===(e=A.value)||void 0===e?void 0:e.getAttribute("type"))&&A.value.hasAttribute("value")&&A.value.removeAttribute("value")}))},N=function(e){G(A.value,e)};f({focus:N,blur:function(){var e;null===(e=A.value)||void 0===e||e.blur()},input:A,stateValue:R,setSelectionRange:function(e,n,t){var a;null===(a=A.value)||void 0===a||a.setSelectionRange(e,n,t)},select:function(){var e;null===(e=A.value)||void 0===e||e.select()}});var V=function(n){var t=e.onFocus;I.value=!0,null==t||t(n),B((function(){P()}))},D=function(n){var t=e.onBlur;I.value=!1,null==t||t(n),F.onFieldBlur(),B((function(){P()}))},J=function(e){p("update:value",e.target.value),p("change",e),p("input",e),F.onFieldChange()},Q=C(),U=function(n,t){R.value!==n&&(void 0===e.value?R.value=n:B((function(){A.value.value!==R.value&&Q.update()})),B((function(){t&&t()})))},_=function(e){K(A.value,e,J),U("",(function(){N()}))},q=function(n){var t=n.target,a=t.value,o=t.composing;if(!((n.isComposing||o)&&e.lazy||R.value===a)){var r=n.target.value;K(A.value,n,J),U(r,(function(){P()}))}},W=function(e){13===e.keyCode&&p("pressEnter",e),p("keydown",e)};x((function(){P()})),b((function(){clearTimeout(r)}));var X=function(){var n,r=e.addonBefore,u=void 0===r?l.addonBefore:r,d=e.addonAfter,c=void 0===d?l.addonAfter:d,f=e.disabled,v=e.bordered,p=void 0===v||v,y=e.valueModifiers,g=void 0===y?{}:y,x=e.htmlSize,b=s(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers"]),h=t(t(t({},b),i),{},{autocomplete:M.value,onChange:q,onInput:q,onFocus:V,onBlur:D,onKeydown:W,class:a(k(O.value,p,T.value,f,j.value),o({},i.class,i.class&&!u&&!c)),ref:A,key:"ant-input",size:x,id:null!==(n=b.id)&&void 0!==n?n:F.id.value});g.lazy&&delete h.onInput,h.autofocus||delete h.autofocus;var B=m("input",s(h,["size"]),null);return w(B,[[z]])},Y=function(){var n,t=R.value,r=e.maxlength,i=e.suffix,u=void 0===i?null===(n=l.suffix)||void 0===n?void 0:n.call(l):i,s=e.showCount,f=Number(r)>0;if(u||s){var v=d(H(t)).length,p=null;return p="object"===c(s)?s.formatter({count:v,maxlength:r}):"".concat(v).concat(f?" / ".concat(r):""),m(h,null,[!!s&&m("span",{class:a("".concat(O.value,"-show-count-suffix"),o({},"".concat(O.value,"-show-count-has-suffix"),!!u))},[p]),u])}return null};return function(){var n=t(t(t({},i),e),{},{prefixCls:O.value,inputType:"input",value:H(R.value),handleReset:_,focused:I.value&&!e.disabled});return m(L,t(t({},s(n,["element","valueModifiers","suffix","showCount"])),{},{ref:S}),t(t({},l),{},{element:X,suffix:Y}))}}});export{L as C,J as I,z as a,G as b,I as c,M as d,H as f,T as i,K as r,P as t};
